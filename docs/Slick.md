
# Slick для начинающих

## Использование в проекте

### Поддерживаемые СУБД

На момент написания руководства __Slick__ поддерживает [следующие СУБД](http://slick.lightbend.com/doc/3.2.1/supported-databases.html):

* DB2
* Derby / JavaDB
* H2
* HSQLDB (HyperSQL)
* Microsoft SQL Server
* MySQL
* Oracle
* PostgreSQL
* SQLite

В этом руководстве мы будем использовать СУБД __H2__.

### Настройка SBT

Для того, чтобы классы Slick были доступны в вашем проекте, нужно добавить его в качестве зависимости в
конфигурационный файл сборки SBT. Для простых проектов его имя обычно __build.sbt__. Зависимость от Slick,
как и все остальные, добавляется в настройку __libraryDependencies__:

```sbtshell
libraryDependencies += "com.typesafe.slick" %% "slick" % "3.2.1"
```

Также нужно подключить стандартный драйвер для работы с выбранной базой данных.
Для H2 добавляем строчку

```sbtshell
libraryDependencies += "com.h2database" % "h2" % "1.4.196"
```

При следующем вызове `sbt update` (или нажатия `Refresh project` в __Idea__) библиотеки скачаются из репозитория и будут доступны для использования.

### Настройка соединения 

Настройку соединения с базой данных рекомендовано производить в общем для всех инструментов __Typesafe/Lightbend__ файле `application.conf`:

```
h2mem1 = {
  url = "jdbc:h2:mem:test1"
  driver = org.h2.Driver
  connectionPool = disabled
  keepAliveConnection = true
}
```

Как видно, в данном случае в файл добавлена настройка для одной базы данных, доступной в программе под именем __h2mem1__,
использующей драйвер __H2__ и располагающейся в памяти под именем __test1__.

Есть и другие варианты настройки, которые мы здесь не рассматриваем.

Перейдем к коду на __Scala__. Определим в программе единственный самый простой объект в файле `Main.scala`:

```scala
package org.slickorial

object Main extends App {
  
}
```

Во-первых, все операции с базой данных Slick выполняет асинхронно.
Это означает, что ему нужно иметь доступ в пределах области видимости к контексту исполнения (__ExecutionContext__),
в рамках которого будут планироваться асинхронные вызовы.
Как обычно, для простых случаев достаточно встроенного в стандартную библиотеку глобального контекста:

```scala
import scala.concurrent.ExecutionContext.Implicits.global
```

Во-вторых, для доступа к специфичным для выбранной СУБД реализациям API, нужно импортировать соответствующий этой СУБД объект:

```scala
import slick.jdbc.H2Profile.api._
```
